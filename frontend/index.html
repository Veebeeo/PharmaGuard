<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PharmaGuard AI — Pharmacogenomic Risk Analysis</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600;9..40,700&family=JetBrains+Mono:wght@400;500&family=Playfair+Display:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<svg style="display:none" xmlns="http://www.w3.org/2000/svg">
<defs>
<symbol id="i-dna" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 15c6.667-6 13.333 0 20-6"/><path d="M9 22c1.798-1.998 2.518-3.995 2.807-5.993"/><path d="M15 2c-1.798 1.998-2.518 3.995-2.807 5.993"/><path d="M17 6l-2.5-2.5"/><path d="M14 8l-1-1"/><path d="M7 18l2.5 2.5"/><path d="M3.5 14.5l.5.5"/><path d="M20 9l.5.5"/><path d="M6.5 12.5l1 1"/><path d="M16.5 10l1 1"/><path d="M10 16l1.5 1.5"/></symbol>
<symbol id="i-upload" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></symbol>
<symbol id="i-pill" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z"/><path d="m8.5 8.5 7 7"/></symbol>
<symbol id="i-brain" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"/><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"/><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"/><path d="M17.599 6.5a3 3 0 0 0 .399-1.375"/><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"/><path d="M3.477 10.896a4 4 0 0 1 .585-.396"/><path d="M19.938 10.5a4 4 0 0 1 .585.396"/><path d="M6 18a4 4 0 0 1-1.967-.516"/><path d="M19.967 17.484A4 4 0 0 1 18 18"/></symbol>
<symbol id="i-shield" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><polyline points="9 12 11 14 15 10"/></symbol>
<symbol id="i-activity" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></symbol>
<symbol id="i-file" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></symbol>
<symbol id="i-grid" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></symbol>
<symbol id="i-info" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></symbol>
<symbol id="i-home" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></symbol>
<symbol id="i-logout" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></symbol>
<symbol id="i-arrow-left" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></symbol>
<symbol id="i-chevron-down" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></symbol>
<symbol id="i-trash" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></symbol>
<symbol id="i-users" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></symbol>
<symbol id="i-zap" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></symbol>
<symbol id="i-check" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></symbol>
<symbol id="i-x" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></symbol>
<symbol id="i-alert" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></symbol>
<symbol id="i-clipboard" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/></symbol>
<symbol id="i-star" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></symbol>
<symbol id="i-settings" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/></symbol>
<symbol id="i-code" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></symbol>
</defs>
</svg>

<nav class="nav" id="main-nav">
  <a class="nb" onclick="navigate('home')">
    <svg viewBox="0 0 32 32" fill="none"><path d="M16 2L4 8v16l12 6 12-6V8L16 2z" stroke="#1b6b4a" stroke-width="1.5" fill="rgba(27,107,74,.06)"/><path d="M10 12s2 4 6 4 6-4 6-4" stroke="#1b6b4a" stroke-width="1.5" stroke-linecap="round"/><path d="M10 18s2 4 6 4 6-4 6-4" stroke="#9a7b2e" stroke-width="1.5" stroke-linecap="round"/><circle cx="12" cy="12" r="1.5" fill="#1b6b4a"/><circle cx="20" cy="12" r="1.5" fill="#1b6b4a"/><circle cx="14" cy="18" r="1.5" fill="#9a7b2e"/><circle cx="18" cy="18" r="1.5" fill="#9a7b2e"/></svg>
    <span>Pharma<b>Guard</b> AI</span>
  </a>
  <div class="nl">
    <button class="nlk active" data-page="home"><svg class="ic" style="width:15px;height:15px"><use href="#i-home"/></svg>Home</button>
    <button class="nlk" data-page="analyze"><svg class="ic" style="width:15px;height:15px"><use href="#i-file"/></svg>Analyze</button>
    <button class="nlk" data-page="results" id="nav-results" style="display:none"><svg class="ic" style="width:15px;height:15px"><use href="#i-activity"/></svg>Results</button>
    <button class="nlk" data-page="dashboard"><svg class="ic" style="width:15px;height:15px"><use href="#i-grid"/></svg>Dashboard</button>
    <button class="nlk" data-page="about"><svg class="ic" style="width:15px;height:15px"><use href="#i-info"/></svg>About</button>
    <span class="utag" id="user-tag"></span>
    <button class="nlo" id="nav-logout" onclick="doLogout()"><svg class="ic" style="width:14px;height:14px"><use href="#i-logout"/></svg>Logout</button>
  </div>
</nav>

<div class="app">

<!-- ═══ LANDING (public) ═══ -->
<div class="page active" id="page-landing">
<div class="landing">
  <div class="lnav">
    <div class="nb">
      <svg viewBox="0 0 32 32" fill="none" width="26" height="26"><path d="M16 2L4 8v16l12 6 12-6V8L16 2z" stroke="#1b6b4a" stroke-width="1.5" fill="rgba(27,107,74,.06)"/><path d="M10 12s2 4 6 4 6-4 6-4" stroke="#1b6b4a" stroke-width="1.5" stroke-linecap="round"/><path d="M10 18s2 4 6 4 6-4 6-4" stroke="#9a7b2e" stroke-width="1.5" stroke-linecap="round"/><circle cx="12" cy="12" r="1.5" fill="#1b6b4a"/><circle cx="20" cy="12" r="1.5" fill="#1b6b4a"/></svg>
      <span>Pharma<b>Guard</b> AI</span>
    </div>
    <div class="lnav-r">
      <button class="btn btn-ghost" onclick="navigate('auth')"><svg class="ic" style="width:16px;height:16px"><use href="#i-users"/></svg> Sign In</button>
      <button class="btn btn-p" onclick="navigate('auth')"><svg class="ic" style="width:16px;height:16px;stroke:#fff"><use href="#i-shield"/></svg> Create Account</button>
    </div>
  </div>

  <div class="lhero">
    <div class="lhero-t">
      <h1>Decode Genes.<br><span>Protect Life.</span></h1>
      <p>AI-powered pharmacogenomic risk analysis. Upload genetic data, select medications, and get CPIC-aligned clinical recommendations powered by Google Gemini — in seconds.</p>
      <div class="lbtns">
        <button class="btn btn-p" onclick="navigate('auth')"><svg class="ic" style="width:16px;height:16px;stroke:#fff"><use href="#i-zap"/></svg> Get Started</button>
        <button class="btn btn-s" onclick="document.getElementById('feat-sec').scrollIntoView({behavior:'smooth'})"><svg class="ic" style="width:16px;height:16px"><use href="#i-info"/></svg> Learn More</button>
      </div>
    </div>
    <div class="lhero-v">
      <div class="ls"><div class="ls-ic"><svg class="ic" style="width:20px;height:20px"><use href="#i-alert"/></svg></div><div class="ls-v">100K+</div><div class="ls-l">ADR Deaths / Year</div></div>
      <div class="ls"><div class="ls-ic"><svg class="ic" style="width:20px;height:20px"><use href="#i-dna"/></svg></div><div class="ls-v">34</div><div class="ls-l">Gene Panels</div></div>
      <div class="ls"><div class="ls-ic"><svg class="ic" style="width:20px;height:20px"><use href="#i-pill"/></svg></div><div class="ls-v">164+</div><div class="ls-l">CPIC Drugs</div></div>
      <div class="ls"><div class="ls-ic"><svg class="ic" style="width:20px;height:20px"><use href="#i-brain"/></svg></div><div class="ls-v">AI</div><div class="ls-l">Gemini Powered</div></div>
    </div>
  </div>

  <div class="lfeat" id="feat-sec">
    <h2>How It Works</h2>
    <p>Three steps from genetic data to life-saving clinical insights</p>
    <div class="lfg">
      <div class="lfc"><div class="lfc-ic c1"><svg class="ic" style="width:20px;height:20px;stroke:#fff"><use href="#i-upload"/></svg></div><h3>1. Upload VCF File</h3><p>Upload standard VCF v4.2 genetic data. Our parser identifies pharmacogenomic variants across CYP2D6, CYP2C19, CYP2C9, SLCO1B1, TPMT, and DPYD genes.</p></div>
      <div class="lfc"><div class="lfc-ic c2"><svg class="ic" style="width:20px;height:20px;stroke:#fff"><use href="#i-pill"/></svg></div><h3>2. Select Medications</h3><p>Choose from 6 high-risk drugs or enter custom names. Multi-drug analysis runs simultaneously for comprehensive profiling.</p></div>
      <div class="lfc"><div class="lfc-ic c3"><svg class="ic" style="width:20px;height:20px;stroke:#fff"><use href="#i-brain"/></svg></div><h3>3. AI Risk Analysis</h3><p>Receive color-coded risk assessments, CPIC-aligned dosing recommendations, and Gemini AI-generated clinical explanations.</p></div>
    </div>
  </div>

  <div class="ldrugs">
    <h2>Supported Medications</h2>
    <div class="ldg">
      <div class="ldc"><div class="ldc-n">Codeine</div><div class="ldc-g">CYP2D6</div><div class="ldc-t">Opioid analgesic</div></div>
      <div class="ldc"><div class="ldc-n">Warfarin</div><div class="ldc-g">CYP2C9</div><div class="ldc-t">Anticoagulant</div></div>
      <div class="ldc"><div class="ldc-n">Clopidogrel</div><div class="ldc-g">CYP2C19</div><div class="ldc-t">Antiplatelet</div></div>
      <div class="ldc"><div class="ldc-n">Simvastatin</div><div class="ldc-g">SLCO1B1</div><div class="ldc-t">Statin</div></div>
      <div class="ldc"><div class="ldc-n">Azathioprine</div><div class="ldc-g">TPMT</div><div class="ldc-t">Immunosuppressant</div></div>
      <div class="ldc"><div class="ldc-n">Fluorouracil</div><div class="ldc-g">DPYD</div><div class="ldc-t">Antineoplastic</div></div>
    </div>
  </div>
  <div class="lfoot">PharmaGuard AI &mdash; RIFT 2026 Hackathon &mdash; For research and educational purposes only.</div>
</div>
</div>

<!-- ═══ AUTH PAGE ═══ -->
<div class="page" id="page-auth">
<div class="auth-w">
  <div class="auth-c">
    <button class="auth-bk" onclick="navigate('landing')"><svg class="ic" style="width:15px;height:15px"><use href="#i-arrow-left"/></svg> Back to home</button>
    <div class="auth-logo">
      <svg viewBox="0 0 32 32" fill="none"><path d="M16 2L4 8v16l12 6 12-6V8L16 2z" stroke="#1b6b4a" stroke-width="1.5" fill="rgba(27,107,74,.06)"/><path d="M10 12s2 4 6 4 6-4 6-4" stroke="#1b6b4a" stroke-width="1.5" stroke-linecap="round"/><path d="M10 18s2 4 6 4 6-4 6-4" stroke="#9a7b2e" stroke-width="1.5" stroke-linecap="round"/></svg>
      <span>Pharma<b>Guard</b> AI</span>
    </div>
    <h2>Clinician Portal</h2>
    <p>Sign in or create an account to access analysis tools</p>
    <div class="eb" id="auth-err"><svg class="ic" style="width:15px;height:15px;flex-shrink:0"><use href="#i-alert"/></svg><span id="auth-err-t"></span><button class="eb-x" onclick="document.getElementById('auth-err').classList.remove('vis','success')">&times;</button></div>
    <div class="fg"><label>Email</label><input type="email" id="auth-email" placeholder="doctor@hospital.com"></div>
    <div class="fg"><label>Password</label><input type="password" id="auth-pw" placeholder="Min 6 characters" onkeydown="if(event.key==='Enter')doLogin()"></div>
    <button class="btn btn-p" style="width:100%;justify-content:center;margin-top:.4rem" onclick="doLogin()"><svg class="ic" style="width:16px;height:16px;stroke:#fff"><use href="#i-shield"/></svg> Sign In</button>
    <div class="auth-div">or</div>
    <button class="btn btn-s" style="width:100%;justify-content:center" onclick="doSignup()"><svg class="ic" style="width:16px;height:16px"><use href="#i-users"/></svg> Create Account</button>
    <div class="auth-ft">Powered by Supabase Auth &middot; HIPAA-ready RLS architecture<br>Patient data isolated per clinician via Row Level Security</div>
  </div>
</div>
</div>

<!-- ═══ HOME (post-login) ═══ -->
<div class="page has-nav" id="page-home">
  <div class="home-h">
    <h1>Welcome back, <span id="home-user" style="color:var(--em)">Clinician</span></h1>
    <p>Upload VCF genetic data, select drugs, and receive AI-powered risk predictions with CPIC-aligned clinical recommendations.</p>
    <div class="home-acts">
      <button class="btn btn-p" onclick="navigate('analyze')"><svg class="ic" style="width:16px;height:16px;stroke:#fff"><use href="#i-upload"/></svg> New Analysis</button>
      <button class="btn btn-s" onclick="navigate('dashboard')"><svg class="ic" style="width:16px;height:16px"><use href="#i-grid"/></svg> View Dashboard</button>
      <button class="btn btn-s" onclick="navigate('about')"><svg class="ic" style="width:16px;height:16px"><use href="#i-info"/></svg> Learn More</button>
    </div>
  </div>
  <div class="home-g">
    <div class="hgc"><div class="hgc-ic"><svg class="ic" style="width:20px;height:20px"><use href="#i-upload"/></svg></div><h3>1. Upload VCF File</h3><p>Upload standard VCF v4.2 genetic data. Identifies pharmacogenomic variants across 6 critical genes.</p></div>
    <div class="hgc"><div class="hgc-ic"><svg class="ic" style="width:20px;height:20px"><use href="#i-pill"/></svg></div><h3>2. Select Medications</h3><p>Choose from 6 high-risk drugs or enter custom names. Multi-drug simultaneous analysis.</p></div>
    <div class="hgc"><div class="hgc-ic"><svg class="ic" style="width:20px;height:20px"><use href="#i-brain"/></svg></div><h3>3. AI Risk Analysis</h3><p>Color-coded risk assessments, CPIC-aligned dosing, and Gemini AI clinical explanations.</p></div>
  </div>
  <div class="home-dr">
    <h2>Supported Medications</h2>
    <div class="ldg">
      <div class="ldc"><div class="ldc-n">Codeine</div><div class="ldc-g">CYP2D6</div><div class="ldc-t">Opioid analgesic</div></div>
      <div class="ldc"><div class="ldc-n">Warfarin</div><div class="ldc-g">CYP2C9</div><div class="ldc-t">Anticoagulant</div></div>
      <div class="ldc"><div class="ldc-n">Clopidogrel</div><div class="ldc-g">CYP2C19</div><div class="ldc-t">Antiplatelet</div></div>
      <div class="ldc"><div class="ldc-n">Simvastatin</div><div class="ldc-g">SLCO1B1</div><div class="ldc-t">Statin</div></div>
      <div class="ldc"><div class="ldc-n">Azathioprine</div><div class="ldc-g">TPMT</div><div class="ldc-t">Immunosuppressant</div></div>
      <div class="ldc"><div class="ldc-n">Fluorouracil</div><div class="ldc-g">DPYD</div><div class="ldc-t">Antineoplastic</div></div>
    </div>
  </div>
  <div class="footer">PharmaGuard AI &mdash; RIFT 2026 Hackathon &mdash; For research and educational purposes only.</div>
</div>

<!-- ═══ ANALYZE ═══ -->
<div class="page has-nav" id="page-analyze">
  <div class="an-pg">
    <div class="pg-hd"><h1>Analyze Genetic Data</h1><p>Upload a VCF file and select drugs to generate pharmacogenomic risk predictions.</p></div>
    <div class="steps">
      <div class="stp act" id="step-1"><div class="stp-n">1</div><div class="stp-t">Upload VCF<small>Drag &amp; drop or browse</small></div></div>
      <div class="stp" id="step-2"><div class="stp-n">2</div><div class="stp-t">Select Drugs<small>Choose medications</small></div></div>
      <div class="stp" id="step-3"><div class="stp-n">3</div><div class="stp-t">Get Results<small>AI-powered analysis</small></div></div>
    </div>
    <div class="eb" id="eb"><svg class="ic" style="width:15px;height:15px;flex-shrink:0"><use href="#i-alert"/></svg><span id="eb-t"></span><button class="eb-x" onclick="hideErr()">&times;</button></div>
    <div class="uz" id="uz">
      <div id="uz-p"><div class="uz-icon"><svg class="ic" style="width:36px;height:36px"><use href="#i-upload"/></svg></div><h3>Drop your VCF file here</h3><p>or click to browse &middot; Supports .vcf files up to 5 MB</p></div>
      <div id="uz-ok" style="display:none"><div class="uz-icon"><svg class="ic" style="width:36px;height:36px;color:var(--em)"><use href="#i-check"/></svg></div><h3>File loaded successfully</h3><div class="fi"><span class="fi-n" id="fn"></span><span class="fi-s" id="fs"></span><button class="fi-x" onclick="rmFile(event)"><svg class="ic" style="width:12px;height:12px"><use href="#i-x"/></svg></button></div></div>
      <input type="file" accept=".vcf" id="finp">
      <div style="font-size:.7rem;color:var(--text-3);margin-top:.4rem">Maximum file size: 5 MB &middot; VCF v4.x format</div>
    </div>
    <div class="ds">
      <label>Select Drugs <span>(click to toggle, or type below)</span></label>
      <div class="dp">
        <div class="pill" data-drug="CODEINE">Codeine</div>
        <div class="pill" data-drug="WARFARIN">Warfarin</div>
        <div class="pill" data-drug="CLOPIDOGREL">Clopidogrel</div>
        <div class="pill" data-drug="SIMVASTATIN">Simvastatin</div>
        <div class="pill" data-drug="AZATHIOPRINE">Azathioprine</div>
        <div class="pill" data-drug="FLUOROURACIL">Fluorouracil</div>
      </div>
      <div class="di-row">
        <input type="text" class="di" id="dinp" placeholder="Or type drug names, comma-separated (e.g., CODEINE, WARFARIN)">
        <button class="btn btn-s btn-sm" onclick="selAll()">Select All</button>
      </div>
    </div>
    <div class="an-act">
      <button class="btn btn-p btn-an" id="abtn" onclick="runAnalysis()" disabled><svg class="ic" style="width:16px;height:16px;stroke:#fff"><use href="#i-activity"/></svg> Run Analysis</button>
      <span id="astat" style="font-size:.8rem;color:var(--text-3)"></span>
    </div>
  </div>
  <div class="footer">PharmaGuard AI &mdash; RIFT 2026 Hackathon</div>
</div>

<!-- ═══ RESULTS ═══ -->
<div class="page has-nav" id="page-results">
  <div class="rs-pg">
    <div class="rs-hd">
      <div><h1>Analysis Results</h1><p style="color:var(--text-2);font-size:.84rem" id="rs-sub"></p></div>
      <div class="rs-act">
        <button class="btn btn-s btn-sm" onclick="navigate('analyze')"><svg class="ic" style="width:14px;height:14px"><use href="#i-file"/></svg> New Analysis</button>
        <button class="btn btn-s btn-sm" onclick="dlAll()"><svg class="ic" style="width:14px;height:14px"><use href="#i-code"/></svg> Download JSON</button>
        <button class="btn btn-s btn-sm" onclick="cpAll()"><svg class="ic" style="width:14px;height:14px"><use href="#i-clipboard"/></svg> Copy JSON</button>
      </div>
    </div>
    <div id="rcon"></div>
  </div>
  <div class="footer">PharmaGuard AI &mdash; RIFT 2026 Hackathon</div>
</div>

<!-- ═══ DASHBOARD ═══ -->
<div class="page has-nav" id="page-dashboard">
  <div class="dash-pg">
    <div class="dash-hd">
      <div><h1>Patient Dashboard</h1><p id="dash-sub">Your saved pharmacogenomic reports</p></div>
      <button class="btn btn-p btn-sm" onclick="navigate('analyze')"><svg class="ic" style="width:14px;height:14px;stroke:#fff"><use href="#i-file"/></svg> New Analysis</button>
    </div>
    <div class="dash-stats" id="dash-stats-row">
      <div class="dsc"><div class="dsc-v" id="ds-total">0</div><div class="dsc-l">Total Reports</div></div>
      <div class="dsc"><div class="dsc-v" id="ds-safe" style="color:var(--r-safe)">0</div><div class="dsc-l">Safe</div></div>
      <div class="dsc"><div class="dsc-v" id="ds-adj" style="color:var(--r-adj)">0</div><div class="dsc-l">Adjust Dosage</div></div>
      <div class="dsc"><div class="dsc-v" id="ds-tox" style="color:var(--r-tox)">0</div><div class="dsc-l">Toxic / Ineffective</div></div>
    </div>
    <div id="dash-loading" style="text-align:center;padding:2.5rem;color:var(--text-3)">Loading reports...</div>
    <div id="dash-empty" style="display:none;text-align:center;padding:3rem">
      <svg class="ic" style="width:40px;height:40px;color:var(--text-3);margin-bottom:.8rem;opacity:.4"><use href="#i-clipboard"/></svg>
      <p style="color:var(--text-3);font-size:.88rem">No reports yet. Run your first analysis to get started.</p>
      <button class="btn btn-p btn-sm" style="margin-top:1rem" onclick="navigate('analyze')">Start Analysis</button>
    </div>
    <div id="dash-list"></div>
  </div>
  <div class="footer">PharmaGuard AI &mdash; RIFT 2026 Hackathon</div>
</div>

<!-- ═══ ABOUT ═══ -->
<div class="page has-nav" id="page-about">
  <div class="ab-pg">
    <h1>About PharmaGuard AI</h1>
    <p>AI-powered pharmacogenomic risk analysis for safer prescribing.</p>
    <div class="ab-grid">
      <div class="ac"><h2><svg class="ic" style="width:18px;height:18px"><use href="#i-alert"/></svg> The Problem</h2><p>Adverse drug reactions (ADRs) kill over 100,000 Americans each year. Many are preventable through pharmacogenomic testing — analyzing how genetic makeup affects drug response.</p></div>
      <div class="ac"><h2><svg class="ic" style="width:18px;height:18px"><use href="#i-shield"/></svg> Our Solution</h2><p>PharmaGuard AI analyzes VCF files to identify variants across 6 critical genes, predicts drug-specific risks, and generates AI-powered clinical explanations using Google Gemini. Predictions align with CPIC guidelines.</p></div>
      <div class="ac full"><h2><svg class="ic" style="width:18px;height:18px"><use href="#i-settings"/></svg> Architecture</h2>
        <div class="ts">
          <div class="ti"><div class="ti-l">Frontend</div><div class="ti-v">Vanilla JS SPA</div></div>
          <div class="ti"><div class="ti-l">Backend</div><div class="ti-v">Python FastAPI</div></div>
          <div class="ti"><div class="ti-l">AI Engine</div><div class="ti-v">Google Gemini 2.0 Flash</div></div>
          <div class="ti"><div class="ti-l">VCF Parsing</div><div class="ti-v">Custom Python Parser</div></div>
          <div class="ti"><div class="ti-l">Risk Engine</div><div class="ti-v">CPIC API + Supabase</div></div>
          <div class="ti"><div class="ti-l">Deployment</div><div class="ti-v">Render / Vercel</div></div>
        </div>
      </div>
      <div class="ac full"><h2><svg class="ic" style="width:18px;height:18px"><use href="#i-dna"/></svg> Gene Panels</h2><ul>
        <li><strong>CYP2D6</strong> — Codeine, tramadol, many antidepressants</li>
        <li><strong>CYP2C19</strong> — Clopidogrel, proton pump inhibitors</li>
        <li><strong>CYP2C9</strong> — Warfarin, NSAIDs, phenytoin</li>
        <li><strong>SLCO1B1</strong> — Statins (simvastatin, atorvastatin)</li>
        <li><strong>TPMT</strong> — Azathioprine, mercaptopurine</li>
        <li><strong>DPYD</strong> — Fluorouracil, capecitabine</li>
      </ul></div>
      <div class="ac full"><h2><svg class="ic" style="width:18px;height:18px"><use href="#i-info"/></svg> Disclaimer</h2><p>PharmaGuard AI is for <strong>research and educational purposes only</strong>. Not a medical device. Always consult a qualified healthcare provider.</p></div>
    </div>
  </div>
  <div class="footer">PharmaGuard AI &mdash; RIFT 2026 &mdash; #RIFT2026 #PharmaGuard #Pharmacogenomics #AIinHealthcare</div>
</div>

</div><!-- /app -->

<div class="lo" id="lo">
  <div class="dna-l"></div>
  <div class="lo-t">Analyzing pharmacogenomic data...</div>
  <div class="lo-s" id="lo-s">Parsing VCF file and detecting variants</div>
</div>

<script src="js/app.js"></script>
</body>
</html>
